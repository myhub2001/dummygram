import{u as x,b as S,j as s,a,o as g,c as w,p as v,e as b,F as k,G as y,r as P,q as z,d as _,t as A,v as C}from"./index-19c586dc.js";const N=/^(?=.*[a-z])(?=.*[A-Z])(?=.*[@$%#^&*])(?=.*[0-9]).{8,}$/,E=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,D={name:e=>e?e.length<6?{name:!0,nameError:"Name must be atleast 6 characters long."}:{name:!1,nameError:!1}:{name:!0,nameError:"Name field cannot be empty"},email:e=>E.test(e)?{email:!1,emailError:!1}:{email:!0,emailError:"Please enter a valid email address"},password:e=>N.test(e)?{password:!1,passwordError:!1}:{password:!0,passwordError:"Minimum 8 characters, 1 uppercase, 1 lowercase, 1 symbol (@$%#^&*), 1 number (0-9)."},confirmPassword:(e,o)=>N.test(e)?e!==o?{confirmPassword:!0,confirmPasswordError:"Password does not match"}:{confirmPassword:!1,confirmPasswordError:!1}:{confirmPassword:!0,confirmPasswordError:"Minimum 8 characters, 1 uppercase, 1 lowercase, 1 symbol (@$%#^&*), 1 number (0-9)."},initialValue:{name:!0,email:!0,password:!0,confirmPassword:!0}};var F={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]},M={prefix:"fab",iconName:"reddit-alien",icon:[512,512,[],"f281","M440.3 203.5c-15 0-28.2 6.2-37.9 15.9-35.7-24.7-83.8-40.6-137.1-42.3L293 52.3l88.2 19.8c0 21.6 17.6 39.2 39.2 39.2 22 0 39.7-18.1 39.7-39.7s-17.6-39.7-39.7-39.7c-15.4 0-28.7 9.3-35.3 22l-97.4-21.6c-4.9-1.3-9.7 2.2-11 7.1L246.3 177c-52.9 2.2-100.5 18.1-136.3 42.8-9.7-10.1-23.4-16.3-38.4-16.3-55.6 0-73.8 74.6-22.9 100.1-1.8 7.9-2.6 16.3-2.6 24.7 0 83.8 94.4 151.7 210.3 151.7 116.4 0 210.8-67.9 210.8-151.7 0-8.4-.9-17.2-3.1-25.1 49.9-25.6 31.5-99.7-23.8-99.7zM129.4 308.9c0-22 17.6-39.7 39.7-39.7 21.6 0 39.2 17.6 39.2 39.7 0 21.6-17.6 39.2-39.2 39.2-22 .1-39.7-17.6-39.7-39.2zm214.3 93.5c-36.4 36.4-139.1 36.4-175.5 0-4-3.5-4-9.7 0-13.7 3.5-3.5 9.7-3.5 13.2 0 27.8 28.5 120 29 149 0 3.5-3.5 9.7-3.5 13.2 0 4.1 4 4.1 10.2.1 13.7zm-.8-54.2c-21.6 0-39.2-17.6-39.2-39.2 0-22 17.6-39.7 39.2-39.7 22 0 39.7 17.6 39.7 39.7-.1 21.5-17.7 39.2-39.7 39.2z"]},I={prefix:"fab",iconName:"facebook-f",icon:[320,512,[],"f39e","M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"]};const R=({show:e})=>{const o=x(),{enqueueSnackbar:i}=S();function c(){w.signInAnonymously().then(()=>{v(),i("Guest Sign In successfull",{variant:"success"}),o("/")}).catch(l=>{b(),i(l.message,{variant:"error"})})}return s("button",{onClick:c,className:"guest-sign-in-button other__login",style:{display:e?"inline-block":"none"},children:[a(g,{icon:M})," Sign up as a Guest!"]})},H=({handleSubmit:e,btn__label:o,submit__icon:i,handleSignInWithGoogle:c,handleSignInWithFacebook:l,have_acct_question:r,have__acct_action:d,have_acct_nav:n,forgot_pass_nav:t,showGuestSignIn:u=!0})=>s(k,{children:[s("button",{type:"submit",onClick:e,className:"action__btn login__btn",children:[o," ",a(g,{icon:i})]}),s("div",{className:"other__login__method",children:[s("div",{className:"or option__divider",children:[a("div",{className:"line"}),a("div",{className:"or-text",children:"or"}),a("div",{className:"line"})]}),a(R,{show:u}),s("div",{className:"google__fb--login",children:[s("button",{className:"other__login google",type:"submit",onClick:c,"aria-label":"Sign Up with Google",children:[a(g,{icon:F,className:"google-icon"}),t?"Sign in with Google":"Sign up with Google"]}),s("button",{className:"other__login facebook",type:"submit",onClick:l,"aria-label":"Sign Up with Facebook",children:[a(g,{icon:I,className:"facebook-icon"})," ",t?"Sign in with Facebook":"Sign up with Facebook"]})]}),t?s("div",{className:"forgot__new",children:[a("div",{className:"forgot-pasword",children:a("span",{role:"button",onClick:t,children:"Forgot Password ?"})}),s("div",{className:"have-account",children:[r," ",a("span",{role:"button",onClick:n,tabIndex:"0",children:d})]})]}):s("div",{className:"have-account",children:[r," ",a("span",{role:"button",onClick:n,tabIndex:"0",children:d})]})]})]});function G(e){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M10.13 15.842l-.788 2.94-1.931-.518.787-2.939a10.988 10.988 0 0 1-3.237-1.872l-2.153 2.154-1.415-1.415 2.154-2.153a10.957 10.957 0 0 1-2.371-5.07l.9-.165A16.923 16.923 0 0 0 12 10c3.704 0 7.131-1.185 9.924-3.196l.9.164a10.957 10.957 0 0 1-2.37 5.071l2.153 2.153-1.415 1.415-2.153-2.154a10.988 10.988 0 0 1-3.237 1.872l.787 2.94-1.931.517-.788-2.94a11.072 11.072 0 0 1-3.74 0z"}}]}]})(e)}function L(e){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M1.181 12C2.121 6.88 6.608 3 12 3c5.392 0 9.878 3.88 10.819 9-.94 5.12-5.427 9-10.819 9-5.392 0-9.878-3.88-10.819-9zM12 17a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"}}]}]})(e)}const U=({label:e,id:o,name:i,placeholder:c,value:l,handleChange:r,aria_dsc_by:d,errorMesssage:n,isError:t,maxLength:u})=>{const[m,p]=P.useState(!1),f=h=>{h.preventDefault(),p(!m)};return s("div",{className:"input__group",children:[a("label",{htmlFor:o,children:e}),s("div",{id:"password-container",className:n?"error-border pass__input__container password-container":"pass__input__container password-container",children:[a("input",{id:o,name:i,type:m?"text":"password",placeholder:c,value:l,onChange:h=>r(h),required:!0,maxLength:u,"aria-required":"true","aria-label":e,"aria-describedby":d}),a("button",{onClick:h=>f(h),className:"show-password show__hide--pass","aria-label":m?"Hide Password":"Show Password",children:m?a(L,{}):a(G,{})})]}),t&&a("p",{className:"error",id:"password-error",children:n})]})},B=({label:e,id:o,placeholder:i,value:c,handleChange:l,error_border:r,isError:d,aria_dsc_by:n,errorMesssage:t,fieldName:u,maxLength:m,type:p="text"})=>s("div",{className:"input__group",children:[a("label",{htmlFor:o,children:e}),a("input",{name:u,id:o,type:p,placeholder:i,value:c,onChange:f=>l(f),className:r?null:"error-border",required:!0,maxLength:m,"aria-required":"true","aria-label":e,"aria-describedby":n}),d&&a("p",{className:"error",id:`${u}-error`,children:t})]}),V=({children:e})=>a("div",{className:"page-over",children:s("section",{className:"login__section",children:[a("div",{className:"login__right__container",children:s("div",{className:"login__right__sub__container",children:[a(z,{}),a("p",{id:"welcome__msg",children:"Welcome to Dummygram, place to share your wonderful moments and connect with others"})]})}),a("div",{className:"login__left",children:e})]})});var Z={prefix:"fas",iconName:"right-to-bracket",icon:[512,512,["sign-in-alt"],"f2f6","M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]};const j=(e,o,i,c=!0)=>{e.preventDefault();const l=c?A:C;w.signInWithPopup(l).then(async r=>{var t;const n=await _.collection("users").where("uid","==",(t=r==null?void 0:r.user)==null?void 0:t.uid).get();n.docs.length<1?await _.collection("users").doc(w.currentUser.uid).set({uid:r.user.uid,username:r.user.uid,name:r.user.displayName,photoURL:r.user.photoURL,displayName:r.user.displayName,Friends:[],posts:[]}):n.docs[0].data().username||n.docs[0].ref.update({username:doc.data().uid}),v(),o("Login successful!",{variant:"success"}),i("/")}).catch(r=>{r.code==="auth/account-exists-with-different-credential"?(b(),o("Account exists with a different credential",{variant:"error"})):(b(),o(r.message,{variant:"error"}))})};export{V as A,B as a,U as b,H as c,Z as f,j as s,D as v};
